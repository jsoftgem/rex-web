<div ng-controller="reportCustomerSummary" class="container-fluid">

    <form id="{{flow.getElementFlowId('reportFrame')}}" class="form-horizontal" role="form">

        <flow-select column="3" id="{{flow.getElementFlowId('viewSelect')}}" task="task" label="View"
                     model="task.view"
                     values="Month, Bar Chart">
        </flow-select>
        <flow-select column="3" id="{{flow.getElementFlowId('schoolYearSelect')}}" task="task" label="School Year"
                     source-url="services/war/school_year_query/list" model="task.schoolYear"
                     field-label="description" change="task.selectSchoolYear(item)">
        </flow-select>
        <flow-select ng-if="task.schoolYear" column="3" id="{{flow.getElementFlowId('regionSelect')}}" task="task"
                     label="Region"
                     source-url="services/war/region_query/list" model="task.region"
                     field-label="regionCode" change="task.selectRegion(item)">
        </flow-select>
        <flow-select ng-if="task.region" column="3" id="{{flow.getElementById('agentSelect')}}"
                     task="task" field-label="initials" model="task.agent" label="Agent"
                     source-url="services/war/agent_query/find_by_region/{{task.region.regionCode}}"
                     change="task.selectAgent(item)"></flow-select>
        <div column="12" class="form-group">
            <div class="btn-group btn-group-sm">

                <button button info="button" title="Clear filters" ng-click="task.clearFilters()"><i
                        fluid-icon-clear></i> Clear filters
                </button>

                <button button info="button" title="Show all" ng-click="task.tag('all')"><i
                        fluid-icon-tag></i> All
                </button>

                <button button info="button" title="Show top 20" ng-click="task.tag('20')"><i
                        fluid-icon-tag></i> 20
                </button>

                <button button info="button" title="Show top 50" ng-click="task.tag('50')"><i
                        fluid-icon-tag></i> 50
                </button>

            </div>
        </div>







        <div ng-class="'row'" ng-repeat="region in task.report.data.regions">

            <div  ng-class="'panel panel-primary'" id="{{flow.getElementFlowId('reportMontlyPanel')}}_{{region.region}}">

                <div ng-class="'panel-header'">
                  {{region.region}}
                </div>

                <div ng-class="'panel-body'">


                </div>

            </div>
        </div>

    </form>


</div>