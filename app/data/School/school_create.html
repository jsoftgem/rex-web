<div class="container-fluid" ng-controller="schoolCtrl">
    <form id="{{flow.getElementFlowId('school_edit_form')}}" class="form-horizontal" role="form" ng-submit="save()"
          novalidate>

        <input id="{{flow.getElementFlowId('school_submit')}}" type="submit"
               style="position: absolute; left: -9999px; width: 1px; height: 1px;"/>


        <div class="col-lg-6">
            <flow-image task="task" label="Emblem" model="task.schoolCreate.logoId"
                        source-url="services/download_service/getContent/"
                        url="services/upload_service/upload_file?folder=group&type=emblem" method="post"></flow-image>
            <flow-field model="task.schoolCreate.name" label="Name" type="text" required="true"></flow-field>
            
            <flow-look-up
                parent-id="{{flow.getElementFlowId('school_edit_form')}}"
                task="task"
                model="task.schoolCreate.region"
                label="Region" required="true"
                source-url="services/war/region_query/list" title="Region" field-label="regionCode"
                key-var="region">
                  <flow-sub-column title="Region" model="region.regionCode"></flow-sub-column>

                  <flow-sub-column title="Name" model="region.regionName"></flow-sub-column>
            </flow-look-up>
        </div>

        <div class="col-lg-6">
            <flow-field model="task.schoolCreate.addressLine1" label="Address line1" type="text" required="true"></flow-field>
            <flow-field model="task.schoolCreate.addressLine2" label="Address line2" type="text" required="true"></flow-field>
            <flow-field model="task.schoolCreate.landline" label="Landline" type="text" required="true"></flow-field>
            <flow-field model="task.schoolCreate.email" label="Email" type="email" required="true"></flow-field>

        </div>

        <flow-modal id="{{flow.getElementFlowId('schoolDeleteModal')}}">

            <div class="panel panel-warning">

                <div class="panel-heading">Warning</div>
                <div class="panel-body">Do you want to delete {{task.schoolCreate.name}}?</div>
                <div class="panel-footer">
                    <div class="btn-group btn-group-xs">
                        <button type="button" class="btn btn-warning field-margin" ng-click="deleteConfirm()">Yes
                        </button>
                        <button type="button" class="btn btn-info field-margin" ng-click="deleteCancel()">No</button>
                    </div>
                </div>
            </div>

        </flow-modal>
    </form>
</div>